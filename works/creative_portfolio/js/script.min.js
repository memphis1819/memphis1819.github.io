window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".header"),t=document.querySelector(".header__menu"),o=document.querySelector(".header__overlay");t.addEventListener("click",()=>{t.classList.toggle("open"),e.classList.toggle("open"),o.classList.toggle("open")});const s=document.querySelector(".scroll");window.addEventListener("scroll",()=>{s.classList.toggle("active",window.scrollY>200)}),s.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const n=document.querySelector(".modal");function c(){n.classList.add("show"),n.classList.remove("hide"),document.body.style.overflow="hidden"}function d(){n.classList.add("hide"),n.classList.remove("show"),document.body.style.overflow=""}function a(e){const t=document.querySelector(".modal__content");t.classList.add("hide"),c();const o=document.createElement("div");o.classList.add("modal__content"),o.innerHTML=`\n        <div class="modal__form">\n            <div class="modal__close" data-close>×</div>\n            <div class="modal__title">${e}</div>\n        </div>\n    `,document.querySelector(".modal").append(o),setTimeout(()=>{o.remove(),t.classList.add("show"),t.classList.remove("hide"),d()},4e3)}document.querySelectorAll("[data-modal]").forEach(e=>{e.addEventListener("click",c)}),window.addEventListener("scroll",(function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(c(),window.removeEventListener("scroll",e))})),n.addEventListener("click",e=>{e.target!==n&&""!=e.target.getAttribute("data-close")||d()}),document.addEventListener("keydown",e=>{"Escape"===e.code&&n.classList.contains("show")&&d()});const l=document.querySelector(".tabs__items"),i=document.querySelectorAll(".tabs__item"),r=document.querySelectorAll(".tabs__block");function m(){r.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),i.forEach(e=>{e.classList.remove("tabs__item_active")})}function u(e=0){r[e].classList.add("show","fade"),r[e].classList.remove("hide"),i[e].classList.add("tabs__item_active")}m(),u(),l.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("tabs__item")&&i.forEach((e,o)=>{t==e&&(m(),u(o))})});const v=document.querySelectorAll("form"),L="img/forms/spinner.svg",_="Спасибо, скоро мы свяжемся с вами.",h="Что-то пошло не так.";v.forEach(e=>{var t;(t=e).addEventListener("submit",e=>{e.preventDefault();const o=document.createElement("img");o.src=L,o.style.cssText="\n        display: block;\n        margin: 0 auto;\n        ",t.insertAdjacentElement("afterend",o);const s=new XMLHttpRequest;s.open("POST","server.php"),s.setRequestHeader("Content-type","application/json");const n=new FormData(t),c={};n.forEach((function(e,t){c[t]=e}));const d=JSON.stringify(c);s.send(d),s.addEventListener("load",()=>{200===s.status?(console.log(s.response),console.log(_),a(_),t.reset(),o.remove()):(console.log(h),a(h))})})})});