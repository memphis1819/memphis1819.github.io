window.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".hamburger"),t=document.querySelector(".menu"),o=document.querySelector(".overlay"),s=document.querySelector(".menu__close");e.addEventListener("click",()=>{t.classList.add("active"),o.classList.add("active")}),s.addEventListener("click",()=>{t.classList.remove("active"),o.classList.remove("active")});let c=document.querySelector('input[name="theme"]'),n=document.documentElement;c.addEventListener("change",()=>{c.checked?(l(),n.setAttribute("data-theme","dark")):(l(),n.setAttribute("data-theme","light"))});let l=()=>{n.classList.add("transition"),window.setTimeout(()=>{n.classList.remove("transition")},1e3)};const a=document.querySelector(".scroll");window.addEventListener("scroll",()=>{a.classList.toggle("active",window.scrollY>200)}),a.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});const d=document.querySelector(".modal");function i(){d.classList.add("show"),d.classList.remove("hide"),document.body.style.overflow="hidden"}function r(){d.classList.add("hide"),d.classList.remove("show"),document.body.style.overflow=""}function m(e){const t=document.querySelector(".modal__content");t.classList.add("hide"),i();const o=document.createElement("div");o.classList.add("modal__content"),o.innerHTML=`\n        <div class="modal__form">\n            <div class="modal__close" data-close>×</div>\n            <div class="modal__title">${e}</div>\n        </div>\n    `,document.querySelector(".modal").append(o),setTimeout(()=>{o.remove(),t.classList.add("show"),t.classList.remove("hide"),r()},4e3)}document.querySelectorAll("[data-modal]").forEach(e=>{e.addEventListener("click",i)}),window.addEventListener("scroll",(function e(){window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(i(),window.removeEventListener("scroll",e))})),d.addEventListener("click",e=>{e.target!==d&&""!=e.target.getAttribute("data-close")||r()}),document.addEventListener("keydown",e=>{"Escape"===e.code&&d.classList.contains("show")&&r()});const u=document.querySelector(".tabs__items"),v=document.querySelectorAll(".tabs__item"),L=document.querySelectorAll(".tabs__block");function h(){L.forEach(e=>{e.classList.add("hide"),e.classList.remove("show","fade")}),v.forEach(e=>{e.classList.remove("tabs__item_active")})}function w(e=0){L[e].classList.add("show","fade"),L[e].classList.remove("hide"),v[e].classList.add("tabs__item_active")}h(),w(),u.addEventListener("click",e=>{const t=e.target;t&&t.classList.contains("tabs__item")&&v.forEach((e,o)=>{t==e&&(h(),w(o))})});const y=document.querySelectorAll("form"),E="img/forms/spinner.svg",f="Спасибо, скоро мы свяжемся с вами.",_="Что-то пошло не так.";y.forEach(e=>{var t;(t=e).addEventListener("submit",e=>{e.preventDefault();const o=document.createElement("img");o.src=E,o.style.cssText="\n        display: block;\n        margin: 0 auto;\n        ",t.insertAdjacentElement("afterend",o);const s=new XMLHttpRequest;s.open("POST","server.php"),s.setRequestHeader("Content-type","application/json");const c=new FormData(t),n={};c.forEach((function(e,t){n[t]=e}));const l=JSON.stringify(n);s.send(l),s.addEventListener("load",()=>{200===s.status?(console.log(s.response),console.log(f),m(f),t.reset(),o.remove()):(console.log(_),m(_))})})})});const scroll=document.querySelector(".scroll");function scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",()=>{scroll.classList.toggle("active",window.scrollY>200)}),scroll.addEventListener("click",()=>{scrollToTop()});const hamburger=document.querySelector(".hamburger"),menu=document.querySelector(".menu"),overlay=document.querySelector(".overlay"),closeElement=document.querySelector(".menu__close");function openMenu(){menu.classList.add("active"),overlay.classList.add("active")}function closeMenu(){menu.classList.remove("active"),overlay.classList.remove("active")}hamburger.addEventListener("click",()=>{openMenu()}),closeElement.addEventListener("click",()=>{closeMenu()});